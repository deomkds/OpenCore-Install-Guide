(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{583:function(a,e,s){a.exports=s.p+"assets/img/serial-header.f60954b5.png"},584:function(a,e,s){a.exports=s.p+"assets/img/serial-connector.6e514758.jpg"},585:function(a,e,s){a.exports=s.p+"assets/img/817DNdBZDkL._AC_SL1500_.af22055f.jpg"},586:function(a,e,s){a.exports=s.p+"assets/img/61yHczOwpTL._AC_SL1001_.f84613fd.jpg"},587:function(a,e,s){a.exports=s.p+"assets/img/coolterm-first-start.9ab65697.png"},588:function(a,e,s){a.exports=s.p+"assets/img/coolterm-settings.2c1445fe.png"},589:function(a,e,s){a.exports=s.p+"assets/img/coolterm-connect.fb665577.png"},590:function(a,e,s){a.exports=s.p+"assets/img/coolterm-record.f7e0709b.png"},591:function(a,e,s){a.exports=s.p+"assets/img/more-downloads.edd8905d.png"},592:function(a,e,s){a.exports=s.p+"assets/img/kdk-install.015e9b14.png"},593:function(a,e,s){a.exports=s.p+"assets/img/kdk-installed.41bf377f.png"},683:function(a,e,s){"use strict";s.r(e);var o=s(28),r=Object(o.a)({},(function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h1",{attrs:{id:"depurando-o-sistema-a-fundo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#depurando-o-sistema-a-fundo"}},[a._v("#")]),a._v(" Depurando o Sistema a Fundo")]),a._v(" "),o("p",[a._v("Essa seção se aprofundará na toca de coelho que é o processo de solução de problemas, focando especificamente na depuração de baixo nível, com saída de dados de depuração apropriada e a configuração da saída serial.")]),a._v(" "),o("p",[o("strong",[a._v("Observação")]),a._v(": 99% dos usuários não precisam deste nível de depuração. Somente "),o("em",[a._v("hackintoshers")]),a._v(" hardcore ou casos muito extremos e raros precisarão desses procedimentos.")]),a._v(" "),o("p"),o("div",{staticClass:"table-of-contents"},[o("ul",[o("li",[o("a",{attrs:{href:"#configurando-a-efi"}},[a._v("Configurando a EFI")])]),o("li",[o("a",{attrs:{href:"#configurando-a-config-plist"}},[a._v("Configurando a Config.plist")]),o("ul",[o("li",[o("a",{attrs:{href:"#misc"}},[a._v("Misc")])]),o("li",[o("a",{attrs:{href:"#nvram"}},[a._v("NVRAM")])])])]),o("li",[o("a",{attrs:{href:"#configurando-a-porta-serial-opcional"}},[a._v("Configurando a Porta Serial (Opcional)")]),o("ul",[o("li",[o("a",{attrs:{href:"#configurando-o-hardware"}},[a._v("Configurando o Hardware")])]),o("li",[o("a",{attrs:{href:"#configurando-o-coolterm"}},[a._v("Configurando o CoolTerm")])])])]),o("li",[o("a",{attrs:{href:"#kits-de-depuracao-do-kernel-opcional"}},[a._v("Kits de Depuração do Kernel (Opcional)")]),o("ul",[o("li",[o("a",{attrs:{href:"#kdk-em-um-so-instalado"}},[a._v("KDK em um SO Instalado")])]),o("li",[o("a",{attrs:{href:"#desinstalando-o-kdk"}},[a._v("Desinstalando o KDK")])])])])])]),o("p"),a._v(" "),o("h2",{attrs:{id:"configurando-a-efi"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configurando-a-efi"}},[a._v("#")]),a._v(" Configurando a EFI")]),a._v(" "),o("p",[a._v("Em grande parte, as alterações necessárias são mínimas. Principalmente, recomenda-se utilizar a versão de depuração do OpenCore, em conjunto com todas as suas "),o("em",[a._v("kexts")]),a._v(". Isso ajuda a garantir a coleta apropriada de todos os dados necessários. Para mais detalhes sobre a versão de depuração do OpenCore, acesse: "),o("RouterLink",{attrs:{to:"/troubleshooting/debug.html"}},[a._v("Depurando com o OpenCore")]),a._v(".")],1),a._v(" "),o("p",[a._v("Além de usar as variantes de depuração do OpenCore e das "),o("em",[a._v("kexts")]),a._v(", essas ferramentas também podem ajudar bastante:")]),a._v(" "),o("ul",[o("li",[o("p",[o("a",{attrs:{href:"https://github.com/acidanthera/DebugEnhancer/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("DebugEnhancer.kext"),o("OutboundLink")],1)]),a._v(" "),o("ul",[o("li",[a._v("Ajuda bastante na depuração do kernel ao mesmo tempo em que corrige o erro "),o("a",{attrs:{href:"https://github.com/acidanthera/DebugEnhancer/blob/4495911971011a1a7a0ffe8605d6ca4b341f67d9/DebugEnhancer/kern_dbgenhancer.cpp#L131",target:"_blank",rel:"noopener noreferrer"}},[a._v("kern.msgbuf to 10485760"),o("OutboundLink")],1),a._v(" (em inglês) e ainda permite aumentar o tamanho do log do "),o("em",[a._v("kernel")]),a._v(".")]),a._v(" "),o("li",[a._v("Observe que essa "),o("em",[a._v("kext")]),a._v(" não pode ser carregada durante a inicialização do "),o("em",[a._v("kernel")]),a._v(". Os logs iniciais não são afetados até que a "),o("em",[a._v("kext")]),a._v(" seja carregada, o que ocorre momentos antes do estágio de configuração da PCI.")])])]),a._v(" "),o("li",[o("p",[o("a",{attrs:{href:"https://gist.github.com/al3xtjames/39ebea4d615c8aed829109a9ea2cd0b5",target:"_blank",rel:"noopener noreferrer"}},[a._v("SSDT-DBG"),o("OutboundLink")],1)]),a._v(" "),o("ul",[o("li",[a._v("Ativa as declarações de depuração contidas nas tabelas ACPI, ajudando com a depuração de eventos da ACPI durante a execução do sistema operacional.")]),a._v(" "),o("li",[a._v("Será necessário "),o("a",{attrs:{href:"https://deomkds.github.io/Getting-Started-With-ACPI/Manual/compile.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("compilar a SSDT"),o("OutboundLink")],1),a._v(".")])])])]),a._v(" "),o("h2",{attrs:{id:"configurando-a-config-plist"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configurando-a-config-plist"}},[a._v("#")]),a._v(" Configurando a Config.plist")]),a._v(" "),o("p",[a._v("Configurar a saída serial no OpenCore é bastante simples.")]),a._v(" "),o("h3",{attrs:{id:"misc"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#misc"}},[a._v("#")]),a._v(" Misc")]),a._v(" "),o("ul",[o("li",[o("strong",[a._v("SerialInt")]),a._v(": YES\n"),o("ul",[o("li",[a._v("Executa a inicialiação da porta serial.")])])]),a._v(" "),o("li",[o("strong",[a._v("Target")]),a._v(": "),o("code",[a._v("67")]),a._v(" "),o("ul",[o("li",[a._v("Habilita a saída de dados de depuração do OpenCore.")]),a._v(" "),o("li",[o("code",[a._v("Target = 75")]),a._v(" adiciona a "),o("em",[a._v("flag")]),a._v(" serial tradicional (0x08) nos casos em que "),o("a",{attrs:{href:"#serial-setup-optional"}},[a._v("a porta serial for utilizada")]),a._v(".")]),a._v(" "),o("li",[a._v("É possível calcular um valor personalizado. Consulte a página "),o("RouterLink",{attrs:{to:"/troubleshooting/debug.html"}},[a._v("Depurando com o OpenCore")]),a._v(".")],1)])])]),a._v(" "),o("h3",{attrs:{id:"nvram"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nvram"}},[a._v("#")]),a._v(" NVRAM")]),a._v(" "),o("h4",{attrs:{id:"boot-args"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#boot-args"}},[a._v("#")]),a._v(" boot-args")]),a._v(" "),o("p",[a._v("Aqui é onde serão configuradas algumas variáveis que ajudarão com a saída de dados de depuração. Utilize os seguintes argumentos de inicialização:")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("-v keepsyms=1 debug=0x12a msgbuf=1048576\n")])])]),o("p",[a._v("Agora, veja o que cada argumento faz:")]),a._v(" "),o("ul",[o("li",[o("strong",[a._v("-v")]),a._v(" "),o("ul",[o("li",[a._v("Habilita a saída verbosa.")])])]),a._v(" "),o("li",[o("strong",[a._v("keepsyms=1")]),a._v(" "),o("ul",[o("li",[a._v("Garante que os símbolos sejam mantidos durante os "),o("em",[a._v("kernel panics")]),a._v(", o que ajuda bastante na solução de problemas.")])])]),a._v(" "),o("li",[o("strong",[a._v("debug=0x12a")]),a._v(" "),o("ul",[o("li",[a._v("Uma combinação de "),o("code",[a._v("DB_KPRT")]),a._v(" (0x8), "),o("code",[a._v("DB_KDP_BP_DIS")]),a._v(" (0x32) e "),o("code",[a._v("DB_KDP_GETC_ENA")]),a._v(" (0x200).")]),a._v(" "),o("li",[a._v("Uma lista dos valores completa pode ser encontrada aqui: "),o("a",{attrs:{href:"https://github.com/apple/darwin-xnu/blob/master/osfmk/kern/debug.h#L419L447",target:"_blank",rel:"noopener noreferrer"}},[a._v("debug.h"),o("OutboundLink")],1),a._v(" (em inglês).")])])]),a._v(" "),o("li",[o("strong",[a._v("msgbuf=1048576")]),a._v(" "),o("ul",[o("li",[a._v("Configura o tamanho do "),o("em",[a._v("buffer")]),a._v(" de mensagens do "),o("em",[a._v("kernel")]),a._v(", o que ajuda a obter logs mais apropriados durante a inicialização.")]),a._v(" "),o("li",[a._v("1048576 é 1MB(/1024^2). Pode ser maior, se necessário.")]),a._v(" "),o("li",[a._v("Desnecessário caso esteja usando a "),o("code",[a._v("DebugEnhancer.kext")]),a._v(". No entanto, ainda é necessário para os logs de "),o("em",[a._v("kernel")]),a._v(" iniciais.")])])])]),a._v(" "),o("p",[o("strong",[a._v("Outros "),o("em",[a._v("boot-args")]),a._v(" úteis")]),a._v(":")]),a._v(" "),o("p",[a._v("Dependendo do que está sendo depurado, esses argumentos de inicialização podem ser extremamente úteis:")]),a._v(" "),o("ul",[o("li",[o("strong",[a._v("-liludbgall")]),a._v(" "),o("ul",[o("li",[a._v("Habilita a depuração na Lilu e em todos os plugins. Observe, no entanto, que isso exige o uso das versões de depuração das "),o("em",[a._v("kexts")]),a._v(".")])])]),a._v(" "),o("li",[o("strong",[a._v("io=0xff")]),a._v(" "),o("ul",[o("li",[a._v("Ativa a depuração do IOKit, que fornece dados melhores. Esteja ciente de que, ao usar este parâmetro, a quantidade de dados no log será gigantesca e deixará o sistema operacional lento, especialmente durante a inicialização.")])])]),a._v(" "),o("li",[o("strong",[a._v("igdebug=0xff")]),a._v(" "),o("ul",[o("li",[a._v("Habilita a depuração de GPUs integradas. Útil ao se trabalhar com computadores que possuam GPUs integradas.")])])]),a._v(" "),o("li",[o("strong",[a._v("serial=5")]),a._v(" "),o("ul",[o("li",[a._v("Redireciona a saída de dados para a porta serial, caso esteja "),o("a",{attrs:{href:"#serial-setup-optional"}},[a._v("planejando usá-la")]),a._v(".")]),a._v(" "),o("li",[a._v("Recomendado para a saída de dados inicial do "),o("em",[a._v("kernel")]),a._v(", antes da configuração da PCI.")])])]),a._v(" "),o("li",[o("strong",[a._v("acpi_layer=0x8")]),a._v(" "),o("ul",[o("li",[a._v("Habilita a depuração das "),o("code",[a._v("ACPI_TABLES")]),a._v(". Veja o arquivo "),o("a",{attrs:{href:"https://github.com/acpica/acpica/blob/master/source/include/acoutput.h",target:"_blank",rel:"noopener noreferrer"}},[a._v("acoutput.h"),o("OutboundLink")],1),a._v(" (em inglês) para obter mais informações.")]),a._v(" "),o("li",[a._v("Alternativamente, "),o("code",[a._v("0xFFFFFFFF")]),a._v(" ativa todas as camadas.")])])]),a._v(" "),o("li",[o("strong",[a._v("acpi_level=0x2")]),a._v(" "),o("ul",[o("li",[a._v("Configura a depuração de "),o("code",[a._v("ACPI_LV_DEBUG_OBJECT")]),a._v(". Veja o arquivo "),o("a",{attrs:{href:"https://github.com/acpica/acpica/blob/master/source/include/acoutput.h",target:"_blank",rel:"noopener noreferrer"}},[a._v("acoutput.h"),o("OutboundLink")],1),a._v(" (em inglês) para obter mais informações.")]),a._v(" "),o("li",[a._v("Alternativamente, "),o("code",[a._v("0xFFFF5F")]),a._v(" significa "),o("code",[a._v("ACPI_ALL_COMPONENTS")]),a._v(".")])])])]),a._v(" "),o("h2",{attrs:{id:"configurando-a-porta-serial-opcional"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configurando-a-porta-serial-opcional"}},[a._v("#")]),a._v(" Configurando a Porta Serial (Opcional)")]),a._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#configurando-o-hardware"}},[a._v("Configurando o Hardware")])]),a._v(" "),o("li",[o("a",{attrs:{href:"#configurando-o-coolterm"}},[a._v("Configurando o CoolTerm")])])]),a._v(" "),o("p",[a._v("Embora seja opcional, a saída serial pode ser super útil para coletar todas as informações importantes que derramam do computador. É também a única maneira apropriada de obter logs de "),o("em",[a._v("kernel panics")]),a._v(" super precoces, como as coisas que vem logo depois de "),o("code",[a._v("[EB|#LOG:EXITBS:START]")]),a._v(".")]),a._v(" "),o("p",[a._v("Para configurá-la, será necessário ter:")]),a._v(" "),o("ul",[o("li",[a._v("Uma porta/conector serial no computador de testes.")]),a._v(" "),o("li",[a._v("Um cabo serial-para-serial ou serial-para-USB.")]),a._v(" "),o("li",[a._v("Um segundo computador para receber os logs da saída de dados serial (com uma porta serial ou USB).")]),a._v(" "),o("li",[a._v("Um software para monitorar a saída de dados serial:\n"),o("ul",[o("li",[a._v("Neste guia, será utilizado o "),o("a",{attrs:{href:"https://freeware.the-meiers.org",target:"_blank",rel:"noopener noreferrer"}},[a._v("CoolTerm"),o("OutboundLink")],1),a._v(", já que ele possui versões para macOS, Linux, Windows e até mesmo para o Raspberry Pi.")]),a._v(" "),o("li",[a._v("O "),o("code",[a._v("screen")]),a._v(" e outros métodos também são suportados.")])])])]),a._v(" "),o("h3",{attrs:{id:"configurando-o-hardware"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configurando-o-hardware"}},[a._v("#")]),a._v(" Configurando o Hardware")]),a._v(" "),o("p",[a._v("Neste exemplo, será utilizada uma placa Asus X299-E Strix, que possui um conector serial. Para verificar se sua placa possui um desses, leia o manual e procure pela porta serial/COM:")]),a._v(" "),o("p",[o("img",{attrs:{src:s(583),alt:"Porta Serial"}})]),a._v(" "),o("p",[a._v("Como evidenciado pela imagem, há uma porta COM na parte de baixo da placa-mãe. Ela até mesmo fornece um diagrama para conectar pinos seriais manualmente, caso não esteja utilizando um adaptador de Conector Serial de 9/10 Pinos para DB9.")]),a._v(" "),o("p",[a._v("Alternativamente, alguns computadores possuem portas seriais DB9 diretamente nas conexões traseiras, como este Dell Optiplex 780 SFF (observe que VGA e Serial "),o("strong",[a._v("não")]),a._v(" são o mesmo conector!):")]),a._v(" "),o("img",{attrs:{width:"508",alt:"",src:s(584)}}),a._v(" "),o("p",[a._v("No X299 do autor original, foi utilizado um simples adaptador de "),o("a",{attrs:{href:"https://www.amazon.ca/gp/product/B001Y1F0HW/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&psc=1",target:"_blank",rel:"noopener noreferrer"}},[a._v("conector serial para DB9"),o("OutboundLink")],1),a._v(", e então um "),o("a",{attrs:{href:"https://www.amazon.ca/gp/product/B075YGKFC1/ref=ppx_yo_dt_b_asin_title_o00_s01?ie=UTF8&psc=1",target:"_blank",rel:"noopener noreferrer"}},[a._v("adaptador de DB9 para USB RS 232"),o("OutboundLink")],1),a._v(", que é, por fim, conectado a um notebook:")]),a._v(" "),o("table",[o("thead",[o("tr",[o("th",{staticStyle:{"text-align":"left"}},[a._v("Conector serial para DB9")]),a._v(" "),o("th",{staticStyle:{"text-align":"left"}},[a._v("Adaptador de DB9 para USB RS 232")])])]),a._v(" "),o("tbody",[o("tr",[o("td",{staticStyle:{"text-align":"left"}},[o("img",{attrs:{src:s(585),alt:""}})]),a._v(" "),o("td",{staticStyle:{"text-align":"left"}},[o("img",{attrs:{src:s(586),alt:""}})])])])]),a._v(" "),o("p",[a._v("O manual do OpenCore geralmente recomenda dispositivos UART baseados em CP21202:")]),a._v(" "),o("blockquote",[o("p",[a._v('Para obter o log durante a inicialização, é possível usar a depuração por meio da porta serial. A depuração por meio da porta serial é ativada no Target, isto é, 0xB para em tela com serial. O OpenCore utiliza uma taxa de 115200 bauds, 8 bits de dados, sem paridade e 1 bit de parada. Para o macOS, a melhor escolha são dispositivos UART baseados em CP2102. Conecte o TX da placa-mãe ao RX UART USB e o GND da placa mãe no GND do UART USB. Utilize um utilitário de tela para obter a saída, ou baixa um software com interface gráfica como o CoolTerm.\nObservação: Em muitas placas-mãe (e possivelmente em adabtadores UART USB) os nomes dos pinos podem estar incorretos. É bastante comum encontrar o GND trocado com o RX, fazendo com que seja necessário conectar o "TX" da placa-mãe no GND do UART USB e o “GND” da placa-mae ao RX do UART USB.')])]),a._v(" "),o("p",[o("strong",[a._v("Lembrete importante")]),a._v(": não se esqueca de ativar a porta serial na BIOS também. Muitas placas-mãe desativam a opção por padrão.")]),a._v(" "),o("h3",{attrs:{id:"configurando-o-coolterm"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configurando-o-coolterm"}},[a._v("#")]),a._v(" Configurando o CoolTerm")]),a._v(" "),o("p",[a._v("Agora, abra o "),o("a",{attrs:{href:"https://freeware.the-meiers.org",target:"_blank",rel:"noopener noreferrer"}},[a._v("CoolTerm"),o("OutboundLink")],1),a._v(" e configure algumas opções. Ao iniciar o CoolTerm, será exibida uma janela simples. Aqui, selecone a opção Options:")]),a._v(" "),o("p",[o("img",{attrs:{src:s(587),alt:""}}),a._v(" "),o("img",{attrs:{src:s(588),alt:""}})]),a._v(" "),o("p",[a._v("Aqui, são exibidas algumas opções, mas as principais com as quais se preocupar são:")]),a._v(" "),o("ul",[o("li",[a._v("Port: tenha certeza de usar o mesmo do controlador serial do seu computador.")]),a._v(" "),o("li",[a._v("Baudrate = 115200")]),a._v(" "),o("li",[a._v("Data Bits = 8")]),a._v(" "),o("li",[a._v("Parity = none")]),a._v(" "),o("li",[a._v("Stop Bit = 1")])]),a._v(" "),o("p",[a._v("Então, salve as configurações e selecione a opção Connect. Será exibido um log em tempo real da saída serial:")]),a._v(" "),o("p",[o("img",{attrs:{src:s(589),alt:"CoolTerm Connect"}})]),a._v(" "),o("p",[a._v("Para gravar, simplesmente acesse a opção "),o("code",[a._v("Connections -> Capture to Text/Binary File -> Start...(Cmd+R)")]),a._v(":")]),a._v(" "),o("p",[o("img",{attrs:{src:s(590),alt:""}})]),a._v(" "),o("h2",{attrs:{id:"kits-de-depuracao-do-kernel-opcional"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#kits-de-depuracao-do-kernel-opcional"}},[a._v("#")]),a._v(" Kits de Depuração do Kernel (Opcional)")]),a._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#kdk-em-um-so-instalado"}},[a._v("KDK em um SO Instalado")])]),a._v(" "),o("li",[o("a",{attrs:{href:"#uninstalling-the-kdk"}},[a._v("Uninstalling the KDK")])])]),a._v(" "),o("p",[a._v("Kits de Depuração de Kernel (KDK) são uma forma incrível de obter ainda mais informações de logs do "),o("em",[a._v("kernel")]),a._v(" e das principais "),o("em",[a._v("kexts")]),a._v(". Especificamente, KDKs são versões de depuração do Core Foundation do macOS fornecidas pela própria Apple. Incluem tanto logs adicionais quanto ASSERTs, permitindo vizualizar mais diretamente os problemas da sua configuração. No entanto, observe que depuração com ponte ou a utilização do "),o("code",[a._v("lldb")]),a._v(" não serão abordados neste guia.")]),a._v(" "),o("p",[o("span",{staticStyle:{color:"red"}},[a._v(" CUIDADO: ")]),a._v(" Instalar KDKs em computadores de trabalho pode causar problemas com as atualizações do sistema operacional e brickar instalações. Por favor, realize a depuração em instalações do macOS dedicadas para tal, de forma a evitar perda de dados.")]),a._v(" "),o("p",[a._v("Para começar, será necessário ter, no mínimo, uma "),o("a",{attrs:{href:"https://developer.apple.com/support/compare-memberships/",target:"_blank",rel:"noopener noreferrer"}},[a._v("conta de desenvolvedor gratuita"),o("OutboundLink")],1),a._v(" (em inglês) da Apple. Uma vez criada pelo menos a conta gratuita, será possível acessar os KDKs a partir da página "),o("a",{attrs:{href:"https://developer.apple.com/download/more/",target:"_blank",rel:"noopener noreferrer"}},[a._v("More Downloads"),o("OutboundLink")],1),a._v(" (em inglês):")]),a._v(" "),o("ul",[o("li",[a._v("Observação: contas gratuitas estarão limitadas a versões de lançamento dos KDKs. KDKs beta só são fornecidos para "),o("a",{attrs:{href:"https://developer.apple.com/support/compare-memberships/",target:"_blank",rel:"noopener noreferrer"}},[a._v("contas de desenvolvedor pagas"),o("OutboundLink")],1),a._v(" (em inglês).")]),a._v(" "),o("li",[a._v("Observação 2: A Apple disponibiliza KDKs antigas até o Mac OS X 10.5 Leopard, então não se preocupe se o seu sistema operacional não possui mais suporte.")])]),a._v(" "),o("p",[o("img",{attrs:{src:s(591),alt:""}})]),a._v(" "),o("p",[a._v("Para determinar qual "),o("em",[a._v("build")]),a._v(" de KDK será necessária para versões beta do macOS, execute o seguinte comando no Terminal:")]),a._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[a._v("sw_vers "),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" BuildVersion\n")])])]),o("p",[a._v("Neste guia, será baixado o Kit de Depuração do Kernel v11.3 build 20E5186d. Uma vez baixado, monte a imagem de disco e encontre o instalador do KDK. Por padrão, o KDK será instalado somente para realizar a depuração com dois computadores (Performing Two-Machine Debugging) e fornecerá zero benefício extra para depuração de "),o("em",[a._v("kernel")]),a._v(" no computador hospedeiro (isto é, no computador no qual foi instalado).")]),a._v(" "),o("h3",{attrs:{id:"kdk-em-um-so-instalado"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#kdk-em-um-so-instalado"}},[a._v("#")]),a._v(" KDK em um SO Instalado")]),a._v(" "),o("p",[a._v("Para habilitar a depuração no computador hospedeiro, será necessário realizar os seguintes passos:")]),a._v(" "),o("ol",[o("li",[a._v("Executar o pacote de instalação do KDK ("),o("code",[a._v(".pkg")]),a._v(");")]),a._v(" "),o("li",[a._v("Desabilitar o SIP (OS X 10.11 El Capitan e superior);")]),a._v(" "),o("li",[a._v("Montar a partição de "),o("em",[a._v("root")]),a._v(" com permissões de escrita (macOS 10.15 Catalina e superior);")]),a._v(" "),o("li",[a._v("Instalar as versões de depuração do "),o("em",[a._v("kernel")]),a._v(" e das "),o("em",[a._v("kexts")]),a._v(";")]),a._v(" "),o("li",[a._v("Atualizar os argumentos de inicialização ("),o("em",[a._v("boot-args")]),a._v(");")]),a._v(" "),o("li",[a._v("Reiniciar e verificar se tudo deu certo.")])]),a._v(" "),o("h4",{attrs:{id:"_1-executar-o-pacote-de-instalacao-do-kdk-pkg"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-executar-o-pacote-de-instalacao-do-kdk-pkg"}},[a._v("#")]),a._v(" 1. Executar o pacote de instalação do KDK ("),o("code",[a._v(".pkg")]),a._v(")")]),a._v(" "),o("p",[a._v("Simplesmente execute o arquivo "),o("code",[a._v(".pkg")]),a._v(" normalmente:")]),a._v(" "),o("p",[o("img",{attrs:{src:s(592),alt:""}})]),a._v(" "),o("p",[a._v("Uma vez instalado, os componentes do KDK, como a versão de depuração do "),o("em",[a._v("kernel")]),a._v(", podem ser encontradas no diretório "),o("code",[a._v("/Library/Developer/KDKs")]),a._v(":")]),a._v(" "),o("p",[o("img",{attrs:{src:s(593),alt:""}})]),a._v(" "),o("h4",{attrs:{id:"_2-desabilitar-o-sip"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-desabilitar-o-sip"}},[a._v("#")]),a._v(" 2. Desabilitar o SIP")]),a._v(" "),o("ul",[o("li",[a._v("Aplicável ao OS X 10.11 El Capitan e mais novo.")])]),a._v(" "),o("p",[a._v("Para desabilitar o SIP, existem duas opções:")]),a._v(" "),o("ul",[o("li",[o("p",[a._v("Desabilitar pelo ambiente de Recuperação.")])]),a._v(" "),o("li",[o("p",[o("RouterLink",{attrs:{to:"/troubleshooting/extended/post-issues.html#desativando-o-sip"}},[a._v("Desabilitar pela config.plist")]),a._v(".")],1)])]),a._v(" "),o("p",[a._v("Geralmente, recomenda-se usar o ambiente de Recuperação para que seja possível reverter facilmente com uma redefinição de NVRAM. No entanto, alguns usuários talvez precisem que o SIP continue desabilitado mesmo após redefinições de NVRAM.")]),a._v(" "),o("p",[a._v("Neste caso, simplesmente reinicie o ambiente de Recuperação do macOS, abra o Terminal e execute o seguinte:")]),a._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[a._v("csrutil disable\ncsrutil authenticated-root disable "),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# No macOS 11 Big Sur ou superior.")]),a._v("\n")])])]),o("p",[a._v("Reinicie e o SIP deverá ter sido ajustado. É possível executar o comando "),o("code",[a._v("csrutil status")]),a._v(" no Terminal para verificar se funcionou.")]),a._v(" "),o("ul",[o("li",[o("span",{staticStyle:{color:"red"}},[a._v("CUIDADO:")]),a._v(" os usuários que dependem do recurso "),o("a",{attrs:{href:"https://deomkds.github.io/OpenCore-Post-Install/universal/security/applesecureboot.html#apecid",target:"_blank",rel:"noopener noreferrer"}},[a._v("ApECID do OpenCore"),o("OutboundLink")],1),a._v(", tenha ciência de que o ApECID "),o("strong",[a._v("precisa")]),a._v(" estar desabilitado para usar o KDK.")])]),a._v(" "),o("h4",{attrs:{id:"_3-montar-a-particao-root-com-permissoes-de-escrita"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-montar-a-particao-root-com-permissoes-de-escrita"}},[a._v("#")]),a._v(" 3. Montar a partição "),o("em",[a._v("root")]),a._v(" com permissões de escrita")]),a._v(" "),o("ul",[o("li",[a._v("Aplicável ao macOS 10.15 Catalina ou superior.")])]),a._v(" "),o("p",[a._v("Montar o volume do sistema com permissões de escrita é fácil, no entanto o processo é um pouco longo.")]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# macOS 11 Big Sur ou superior.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Primeiramente, crie um ponto de montagem para a unidade.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/livemount\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Então, encontre o volume do sistema.")]),a._v("\ndiskutil list\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A partir da lista abaixo, é possível ver que o volume do sistema é o disk5s5.")]),a._v("\n/dev/disk5 "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("synthesized"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(":\n   "),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#:                       TYPE NAME                    SIZE       IDENTIFIER")]),a._v("\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":      APFS Container Scheme -                      +255.7 GB   disk5\n                                 Physical Store disk4s2\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":                APFS Volume ⁨Big Sur HD - Data⁩       "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("122.5")]),a._v(" GB   disk5s1\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(":                APFS Volume ⁨Preboot⁩                 "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("309.4")]),a._v(" MB   disk5s2\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(":                APFS Volume ⁨Recovery⁩                "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("887.8")]),a._v(" MB   disk5s3\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(":                APFS Volume ⁨VM⁩                      "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.1")]),a._v(" MB     disk5s4\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(":                APFS Volume ⁨Big Sur HD⁩              "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("16.2")]),a._v(" GB    disk5s5\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(":              APFS Snapshot ⁨com.apple.os.update-"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".⁩ "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("16.2")]),a._v(" GB    disk5s5s\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Monte a unidade (ex.: disk5s5)")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" -o nobrowse -t apfs  /dev/disk5s5 ~/livemount\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Agora é possível fazer alterações no volume do sistema livremente.")]),a._v("\n")])])]),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Somente macOS 10.15 Catalina.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" -uw /\n")])])]),o("h4",{attrs:{id:"_4-instalar-as-versoes-de-depuracao-do-kernel-e-das-kexts"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4-instalar-as-versoes-de-depuracao-do-kernel-e-das-kexts"}},[a._v("#")]),a._v(" 4. Instalar as versões de depuração do "),o("em",[a._v("kernel")]),a._v(" e das "),o("em",[a._v("kexts")])]),a._v(" "),o("p",[a._v("Agora é preciso instalar o KDK no sistema:")]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Instala o KDK no volume do sistema.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Certifique-se de substituir o <KDK Version>.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# Para macOS 10.15 Catalina ou mais antigo, substitua "livemount" por /Volumes/<Volume Alvo>.')]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" ditto /Library/Developer/KDKs/"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("KDK Version"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("/System ~/livemount/System\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Reconstrua o cache do kernel (macOS 11 Big Sur ou mais novo).")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" kmutil "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --volume-root ~/livemount --update-all\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Reconstrua o cache do kernel (macOS 10.15 Catalina ou mais antigo).")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" kextcache -invalidate /Volumes/"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Target Volume"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Finalmente, uma vez terminado de alterar o volume do sistema,")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# será necessário criar uma nova *snapshot* (macOS 11 Big Sur ou mais novo).")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" bless --folder ~/livemount/System/Library/CoreServices --bootefi --create-snapshot\n")])])]),o("h4",{attrs:{id:"_5-atualizar-os-argumentos-de-inicializacao-boot-args"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_5-atualizar-os-argumentos-de-inicializacao-boot-args"}},[a._v("#")]),a._v(" 5. Atualizar os argumentos de inicialização ("),o("em",[a._v("boot-args")]),a._v(")")]),a._v(" "),o("p",[a._v("Agora que o KDK foi instalado e configurado, será necessário dizer ao "),o("code",[a._v("boot.efi")]),a._v(" qual "),o("em",[a._v("kernel")]),a._v(" usar. Escolha entre as duas opções a seguir:")]),a._v(" "),o("ul",[o("li",[o("code",[a._v("kcsuffix=debug")]),a._v(" (removido no macOS 11 Big Sur).")]),a._v(" "),o("li",[o("code",[a._v("kcsuffix=development")])]),a._v(" "),o("li",[o("code",[a._v("kcsuffix=kasan")])])]),a._v(" "),o("p",[a._v("O argumento "),o("code",[a._v("development")]),a._v(" configurará o novo "),o("em",[a._v("kernel")]),a._v(" de depuração no macOS 11 Big Sur. O argumento "),o("code",[a._v("kasan")]),a._v(" usará uma versão do "),o("em",[a._v("kernel")]),a._v(" com log muito mais intenso e que incorpora o "),o("a",{attrs:{href:"https://github.com/google/sanitizers/wiki/AddressSanitizer",target:"_blank",rel:"noopener noreferrer"}},[a._v("AddressSanitizer"),o("OutboundLink")],1),a._v(" (em inglês).")]),a._v(" "),o("p",[a._v("Uma vez decidido qual "),o("em",[a._v("kernel")]),a._v(" é o ideal para o seu uso, adicione o argumento "),o("code",[a._v("kcsuffix")]),a._v(" à "),o("code",[a._v("config.plis")]),a._v(", na opção "),o("code",[a._v("boot-args")]),a._v(".")]),a._v(" "),o("h4",{attrs:{id:"_6-reiniciar-e-verificar-se-tudo-deu-certo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_6-reiniciar-e-verificar-se-tudo-deu-certo"}},[a._v("#")]),a._v(" 6. Reiniciar e verificar se tudo deu certo")]),a._v(" "),o("p",[a._v("Presumindo que tudo tenha sido feito da maneira correta, agora é a hora de reiniciar o computador e verificar se o sistema operacional iniciará com o "),o("em",[a._v("kernel")]),a._v(" correto.")]),a._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[a._v("sysctl kern.osbuildconfig\n kern.osbuildconfig: kasan\n")])])]),o("p",[a._v("Como é possível ver, o sistema iniciou com o "),o("em",[a._v("kernel")]),a._v(" KASAN.")]),a._v(" "),o("h3",{attrs:{id:"desinstalando-o-kdk"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#desinstalando-o-kdk"}},[a._v("#")]),a._v(" Desinstalando o KDK")]),a._v(" "),o("p",[a._v("Desinstalar o KDK é bastante simples, no entanto, pode ser um pouco destrutivo caso não se tome cuidado.")]),a._v(" "),o("ol",[o("li",[a._v("Montar a partição "),o("em",[a._v("root")]),a._v(" com permissões de escrita (macOS 10.15 Catalina ou superior);")]),a._v(" "),o("li",[a._v("Remover as versões de depuração do "),o("em",[a._v("kernel")]),a._v(" e das "),o("em",[a._v("kexts")]),a._v(";")]),a._v(" "),o("li",[a._v("Habilitar novamente o SIP;")]),a._v(" "),o("li",[a._v("Limpar os argumentos de inicialização ("),o("em",[a._v("boot-args")]),a._v(")")]),a._v(" "),o("li",[a._v("Reiniciar e verificar se tudo deu certo")])]),a._v(" "),o("p",[a._v("Passos:")]),a._v(" "),o("h4",{attrs:{id:"_1-montar-a-particao-root-com-permissoes-de-escrita-macos-10-15-catalina-ou-superior"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-montar-a-particao-root-com-permissoes-de-escrita-macos-10-15-catalina-ou-superior"}},[a._v("#")]),a._v(" 1. Montar a partição "),o("em",[a._v("root")]),a._v(" com permissões de escrita (macOS 10.15 Catalina ou superior)")]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# macOS 11 Big Sur ou superior.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Primeiramente, crie um ponto de montagem para a unidade.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Pule se o ponto de montagem já existir.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/livemount\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Então, encontre o volume do sistema.")]),a._v("\ndiskutil list\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A partir da lista abaixo, é possível ver que o volume do sistema é o disk5s5.")]),a._v("\n/dev/disk5 "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("synthesized"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(":\n   "),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#:                       TYPE NAME                    SIZE       IDENTIFIER")]),a._v("\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":      APFS Container Scheme -                      +255.7 GB   disk5\n                                 Physical Store disk4s2\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":                APFS Volume ⁨Big Sur HD - Data⁩       "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("122.5")]),a._v(" GB   disk5s1\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(":                APFS Volume ⁨Preboot⁩                 "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("309.4")]),a._v(" MB   disk5s2\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(":                APFS Volume ⁨Recovery⁩                "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("887.8")]),a._v(" MB   disk5s3\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(":                APFS Volume ⁨VM⁩                      "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.1")]),a._v(" MB     disk5s4\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(":                APFS Volume ⁨Big Sur HD⁩              "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("16.2")]),a._v(" GB    disk5s5\n   "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(":              APFS Snapshot ⁨com.apple.os.update-"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".⁩ "),o("span",{pre:!0,attrs:{class:"token number"}},[a._v("16.2")]),a._v(" GB    disk5s5s\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Monte a unidade (ex.: disk5s5)")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" -o nobrowse -t apfs  /dev/disk5s5 ~/livemount\n")])])]),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Somente macOS 10.15 Catalina.")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" -uw /\n")])])]),o("h4",{attrs:{id:"_2-remover-as-versoes-de-depuracao-do-kernel-e-das-kexts"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-remover-as-versoes-de-depuracao-do-kernel-e-das-kexts"}},[a._v("#")]),a._v(" 2. Remover as versões de depuração do "),o("em",[a._v("kernel")]),a._v(" e das "),o("em",[a._v("kexts")])]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Reverter para uma *snapshot* antiga (macOS 11 Big Sur ou mais novo).")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" bless --mount ~/livemount --bootefi --last-sealed-snapshot\n")])])]),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Redefinir o cache do *kernel* (macOS 10.15 Catalina ou mais antigo)")]),a._v("\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" /System/Library/Caches/com.apple.kext.caches/Startup/kernelcache.de*\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" /System/Library/PrelinkedKernels/prelinkedkernel.de*\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" kextcache -invalidate /\n")])])]),o("h4",{attrs:{id:"_3-habilitar-novamente-o-sip"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-habilitar-novamente-o-sip"}},[a._v("#")]),a._v(" 3. Habilitar novamente o SIP")]),a._v(" "),o("ul",[o("li",[a._v("Comandos a serem executados no ambiente de Recuperação (caso o SIP tenha sido desabilitado pelo ambiente de Recuperação):")])]),a._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[a._v("csrutil "),o("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v("\ncsrutil authenticated-root "),o("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# macOS 11 Big Sur ou mais novo.")]),a._v("\n")])])]),o("ul",[o("li",[a._v("Alterações na "),o("code",[a._v("config.plist")]),a._v(" (caso o SIP tenha sido desabilitado pela "),o("code",[a._v("config.plist")]),a._v("):\n"),o("ul",[o("li",[o("RouterLink",{attrs:{to:"/troubleshooting/extended/post-issues.html#disabling-sip"}},[a._v("Habilitando pela config.plist")]),a._v(".")],1)])])]),a._v(" "),o("h4",{attrs:{id:"_4-limpar-os-argumentos-de-inicializacao-boot-args"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4-limpar-os-argumentos-de-inicializacao-boot-args"}},[a._v("#")]),a._v(" 4. Limpar os argumentos de inicialização ("),o("em",[a._v("boot-args")]),a._v(")")]),a._v(" "),o("p",[a._v("Não se esqueça de remover o "),o("code",[a._v("kcsuffix=")]),a._v(" dos seus argumentos de inicialização.")]),a._v(" "),o("h4",{attrs:{id:"_5-reiniciar-e-verificar-se-tudo-deu-certo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_5-reiniciar-e-verificar-se-tudo-deu-certo"}},[a._v("#")]),a._v(" 5. Reiniciar e verificar se tudo deu certo")]),a._v(" "),o("p",[a._v("Presumindo que tudo tenha sido feito da maneira correta, agora é a hora de reiniciar o computador e verificar se o sistema operacional iniciará com o "),o("em",[a._v("kernel")]),a._v(" correto.")]),a._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[a._v("sysctl kern.osbuildconfig\n kern.osbuildconfig: release\n")])])]),o("p",[a._v("Como é possível ver, o sistema iniciou com o "),o("em",[a._v("kernel")]),a._v(" padrão de lançamento.")])])}),[],!1,null,null,null);e.default=r.exports}}]);