<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Depurando o Sistema a Fundo | Guia de Instalação do OpenCore</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="&#39;stylesheet" href="/OpenCore-Install-Guide/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/OpenCore-Install-Guide/assets/css/0.styles.31d30a02.css" as="style"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/app.fc51349e.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/2.b61f8b84.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/8.55f78431.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/58.d518a4a2.js" as="script"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/10.b5b61862.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/11.3da61f87.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/12.06ca2f54.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/13.0b388b87.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/14.87788379.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/15.fea5e03f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/16.96ea3b05.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/17.e3691888.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/18.0a4b699c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/19.fe8208b8.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/20.5835aaf6.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/21.7b73ab8f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/22.688db841.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/23.03ee4814.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/24.24b59b8e.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/25.cb73cb73.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/26.fa38f456.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/27.94b91f52.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/28.6922a0f2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/29.3d9a204d.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/3.701c7bba.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/30.5d3eb178.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/31.e0a1e611.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/32.13eb1978.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/33.0ad189bb.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/34.4bb360a0.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/35.6195b8ab.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/36.71b72b30.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/37.6ec778cc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/38.6849b253.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/39.1a2f2fbd.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/4.34475171.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/40.d095dc3c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/41.7a117e8f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/42.8e2dd6bc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/43.3a152231.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/44.fa189339.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/45.cf535c6c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/46.f0b00112.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/47.de6547ee.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/48.6f94ebd9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/49.e5ac0caa.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/5.be905734.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/50.857fd2dc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/51.0d4c5518.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/52.b9074f29.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/53.70ac7c06.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/54.f0ab6cb6.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/55.bb2a18d1.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/56.bf84ca48.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/57.0de8ed06.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/59.2fc36525.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/6.115c4769.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/60.2ceeb487.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/61.4fee0fb7.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/62.44bc48c8.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/63.62ac4c0b.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/64.22ad7145.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/65.2c4a7912.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/66.b03b47d9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/67.d5223d32.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/68.95948c34.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/69.52231aa8.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/7.36ea9d21.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/70.87883351.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/71.aecacc26.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/72.ba0fb467.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/73.2e47fa06.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/74.ba1b8569.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/75.137495a0.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/76.048fb1fe.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/77.01700ab2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/78.40315465.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/79.47400406.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/80.71ead227.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/9.01966f96.js">
    <link rel="stylesheet" href="/OpenCore-Install-Guide/assets/css/0.styles.31d30a02.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Install-Guide/" class="home-link router-link-active"><img src="/OpenCore-Install-Guide/homepage.png" alt="Guia de Instalação do OpenCore" class="logo"> <span class="site-name can-hide">Guia de Instalação do OpenCore</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Outros Guias</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Outros Guias</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Original (em inglês)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Primeiros Passos com a ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pós-instalação do OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/OpenCore-Multiboot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Multiboot com o OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra de GPUs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra de Wi-Fi
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra Anti-Hackintosh
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/deomkds/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Outros Guias</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Outros Guias</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Original (em inglês)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Primeiros Passos com a ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pós-instalação do OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/OpenCore-Multiboot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Multiboot com o OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra de GPUs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra de Wi-Fi
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://deomkds.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guia de Compra Anti-Hackintosh
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/deomkds/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introdução</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/prerequisites.html" class="sidebar-link">Começando com o OpenCore</a></li><li><a href="/OpenCore-Install-Guide/macos-limits.html" class="sidebar-link">Limitações de Hardware</a></li><li><a href="/OpenCore-Install-Guide/find-hardware.html" class="sidebar-link">Descobrindo Especificações</a></li><li><a href="/OpenCore-Install-Guide/terminology.html" class="sidebar-link">Terminologia</a></li><li><a href="/OpenCore-Install-Guide/why-oc.html" class="sidebar-link">Por que o OpenCore em vez do Clover e outros</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Pendrive de Boot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/OpenCore-Install-Guide/installer-guide/" class="sidebar-heading clickable open"><span>Criando o Pendrive</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installer-guide/mac-install.html" class="sidebar-link">Criando o instalador no macOS</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/winblows-install.html" class="sidebar-link">Criando o Instalador no Windows</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/linux-install.html" class="sidebar-link">Criando o Instalador no Linux</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/installer-guide/opencore-efi.html" class="sidebar-link">Adicionado os Arquivos Base do OpenCore</a></li><li><a href="/OpenCore-Install-Guide/ktext.html" class="sidebar-link">Juntando os Arquivos</a></li><li><a href="https://deomkds.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="sidebar-link">Primeiros Passos com a ACPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/OpenCore-Install-Guide/config.plist/" class="sidebar-link">Configuração da config.plist</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Configuração</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Desktop com Intel</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/config.plist/penryn.html" class="sidebar-link">Penryn</a></li><li><a href="/OpenCore-Install-Guide/config.plist/clarkdale.html" class="sidebar-link">Clarkdale</a></li><li><a href="/OpenCore-Install-Guide/config.plist/sandy-bridge.html" class="sidebar-link">Sandy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/ivy-bridge.html" class="sidebar-link">Ivy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/haswell.html" class="sidebar-link">Haswell</a></li><li><a href="/OpenCore-Install-Guide/config.plist/skylake.html" class="sidebar-link">Skylake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/kaby-lake.html" class="sidebar-link">Kaby Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/coffee-lake.html" class="sidebar-link">Coffee Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/comet-lake.html" class="sidebar-link">Comet Lake</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Laptop com Intel</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Intel HEDT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Desktop com AMD</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Instalação</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installation/installation-process.html" class="sidebar-link">Processo de Instalação</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Solução de Problemas</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/troubleshooting.html" class="sidebar-link">Solução de Problemas</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Problemas Comuns</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/opencore-issues.html" class="sidebar-link">Problemas de Inicialização do OpenCore</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html" class="sidebar-link">Problemas de Kernel</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/userspace-issues.html" class="sidebar-link">Userspace Issues</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/post-issues.html" class="sidebar-link">Problemas Após a Instalação</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/misc-issues.html" class="sidebar-link">Problemas Diversos</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/troubleshooting/debug.html" class="sidebar-link">Depurando o OpenCore</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/boot.html" class="sidebar-link">Entendendo o Processo de Inicialização do macOS</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/kernel-debugging.html" aria-current="page" class="active sidebar-link">Depurando o Sistema a Fundo</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/kernel-debugging.html#configurando-a-efi" class="sidebar-link">Configurando a EFI</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/kernel-debugging.html#configurando-a-config-plist" class="sidebar-link">Configurando a Config.plist</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/kernel-debugging.html#configurando-a-porta-serial-opcional" class="sidebar-link">Configurando a Porta Serial (Opcional)</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/kernel-debugging.html#kits-de-depuracao-do-kernel-opcional" class="sidebar-link">Kits de Depuração do Kernel (Opcional)</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Pós-instalação</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://deomkds.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="sidebar-link">Pós-Instalação<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Universal</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Problemas de Laptops</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cosméticos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Multiboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Diversos</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Extras</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html" class="sidebar-link">Calculando o Valor de Slide do KASLR</a></li><li><a href="/OpenCore-Install-Guide/extras/spoof.html" class="sidebar-link">Desativando a GPU</a></li><li><a href="/OpenCore-Install-Guide/extras/big-sur/" class="sidebar-link">OpenCore and macOS 11: Big Sur</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Convertendo do Clover</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/OpenCore-Install-Guide/extras/smbios-support.html" class="sidebar-link">Escolhendo a SMBIOS Correta</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Outros</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/misc/progress.html" class="sidebar-link">Progresso da Tradução</a></li><li><a href="/OpenCore-Install-Guide/CONTRIBUTING.html" class="sidebar-link">Contribuindo</a></li><li><a href="/OpenCore-Install-Guide/misc/credit.html" class="sidebar-link">Créditos</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="depurando-o-sistema-a-fundo"><a href="#depurando-o-sistema-a-fundo" class="header-anchor">#</a> Depurando o Sistema a Fundo</h1> <p>Essa seção se aprofundará na toca de coelho que é o processo de solução de problemas, focando especificamente na depuração de baixo nível, com saída de dados de depuração apropriada e a configuração da saída serial.</p> <p><strong>Observação</strong>: 99% dos usuários não precisam deste nível de depuração. Somente <em>hackintoshers</em> hardcore ou casos muito extremos e raros precisarão desses procedimentos.</p> <p></p><div class="table-of-contents"><ul><li><a href="#configurando-a-efi">Configurando a EFI</a></li><li><a href="#configurando-a-config-plist">Configurando a Config.plist</a><ul><li><a href="#misc">Misc</a></li><li><a href="#nvram">NVRAM</a></li></ul></li><li><a href="#configurando-a-porta-serial-opcional">Configurando a Porta Serial (Opcional)</a><ul><li><a href="#configurando-o-hardware">Configurando o Hardware</a></li><li><a href="#configurando-o-coolterm">Configurando o CoolTerm</a></li></ul></li><li><a href="#kits-de-depuracao-do-kernel-opcional">Kits de Depuração do Kernel (Opcional)</a><ul><li><a href="#kdk-em-um-so-instalado">KDK em um SO Instalado</a></li><li><a href="#desinstalando-o-kdk">Desinstalando o KDK</a></li></ul></li></ul></div><p></p> <h2 id="configurando-a-efi"><a href="#configurando-a-efi" class="header-anchor">#</a> Configurando a EFI</h2> <p>Em grande parte, as alterações necessárias são mínimas. Principalmente, recomenda-se utilizar a versão de depuração do OpenCore, em conjunto com todas as suas <em>kexts</em>. Isso ajuda a garantir a coleta apropriada de todos os dados necessários. Para mais detalhes sobre a versão de depuração do OpenCore, acesse: <a href="/OpenCore-Install-Guide/troubleshooting/debug.html">Depurando com o OpenCore</a>.</p> <p>Além de usar as variantes de depuração do OpenCore e das <em>kexts</em>, essas ferramentas também podem ajudar bastante:</p> <ul><li><p><a href="https://github.com/acidanthera/DebugEnhancer/releases" target="_blank" rel="noopener noreferrer">DebugEnhancer.kext<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Ajuda bastante na depuração do kernel ao mesmo tempo em que corrige o erro <a href="https://github.com/acidanthera/DebugEnhancer/blob/4495911971011a1a7a0ffe8605d6ca4b341f67d9/DebugEnhancer/kern_dbgenhancer.cpp#L131" target="_blank" rel="noopener noreferrer">kern.msgbuf to 10485760<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês) e ainda permite aumentar o tamanho do log do <em>kernel</em>.</li> <li>Observe que essa <em>kext</em> não pode ser carregada durante a inicialização do <em>kernel</em>. Os logs iniciais não são afetados até que a <em>kext</em> seja carregada, o que ocorre momentos antes do estágio de configuração da PCI.</li></ul></li> <li><p><a href="https://gist.github.com/al3xtjames/39ebea4d615c8aed829109a9ea2cd0b5" target="_blank" rel="noopener noreferrer">SSDT-DBG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Ativa as declarações de depuração contidas nas tabelas ACPI, ajudando com a depuração de eventos da ACPI durante a execução do sistema operacional.</li> <li>Será necessário <a href="https://deomkds.github.io/Getting-Started-With-ACPI/Manual/compile.html" target="_blank" rel="noopener noreferrer">compilar a SSDT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul></li></ul> <h2 id="configurando-a-config-plist"><a href="#configurando-a-config-plist" class="header-anchor">#</a> Configurando a Config.plist</h2> <p>Configurar a saída serial no OpenCore é bastante simples.</p> <h3 id="misc"><a href="#misc" class="header-anchor">#</a> Misc</h3> <ul><li><strong>SerialInt</strong>: YES
<ul><li>Executa a inicialiação da porta serial.</li></ul></li> <li><strong>Target</strong>: <code>67</code> <ul><li>Habilita a saída de dados de depuração do OpenCore.</li> <li><code>Target = 75</code> adiciona a <em>flag</em> serial tradicional (0x08) nos casos em que <a href="#serial-setup-optional">a porta serial for utilizada</a>.</li> <li>É possível calcular um valor personalizado. Consulte a página <a href="/OpenCore-Install-Guide/troubleshooting/debug.html">Depurando com o OpenCore</a>.</li></ul></li></ul> <h3 id="nvram"><a href="#nvram" class="header-anchor">#</a> NVRAM</h3> <h4 id="boot-args"><a href="#boot-args" class="header-anchor">#</a> boot-args</h4> <p>Aqui é onde serão configuradas algumas variáveis que ajudarão com a saída de dados de depuração. Utilize os seguintes argumentos de inicialização:</p> <div class="language- extra-class"><pre class="language-text"><code>-v keepsyms=1 debug=0x12a msgbuf=1048576
</code></pre></div><p>Agora, veja o que cada argumento faz:</p> <ul><li><strong>-v</strong> <ul><li>Habilita a saída verbosa.</li></ul></li> <li><strong>keepsyms=1</strong> <ul><li>Garante que os símbolos sejam mantidos durante os <em>kernel panics</em>, o que ajuda bastante na solução de problemas.</li></ul></li> <li><strong>debug=0x12a</strong> <ul><li>Uma combinação de <code>DB_KPRT</code> (0x8), <code>DB_KDP_BP_DIS</code> (0x32) e <code>DB_KDP_GETC_ENA</code> (0x200).</li> <li>Uma lista dos valores completa pode ser encontrada aqui: <a href="https://github.com/apple/darwin-xnu/blob/master/osfmk/kern/debug.h#L419L447" target="_blank" rel="noopener noreferrer">debug.h<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês).</li></ul></li> <li><strong>msgbuf=1048576</strong> <ul><li>Configura o tamanho do <em>buffer</em> de mensagens do <em>kernel</em>, o que ajuda a obter logs mais apropriados durante a inicialização.</li> <li>1048576 é 1MB(/1024^2). Pode ser maior, se necessário.</li> <li>Desnecessário caso esteja usando a <code>DebugEnhancer.kext</code>. No entanto, ainda é necessário para os logs de <em>kernel</em> iniciais.</li></ul></li></ul> <p><strong>Outros <em>boot-args</em> úteis</strong>:</p> <p>Dependendo do que está sendo depurado, esses argumentos de inicialização podem ser extremamente úteis:</p> <ul><li><strong>-liludbgall</strong> <ul><li>Habilita a depuração na Lilu e em todos os plugins. Observe, no entanto, que isso exige o uso das versões de depuração das <em>kexts</em>.</li></ul></li> <li><strong>io=0xff</strong> <ul><li>Ativa a depuração do IOKit, que fornece dados melhores. Esteja ciente de que, ao usar este parâmetro, a quantidade de dados no log será gigantesca e deixará o sistema operacional lento, especialmente durante a inicialização.</li></ul></li> <li><strong>igdebug=0xff</strong> <ul><li>Habilita a depuração de GPUs integradas. Útil ao se trabalhar com computadores que possuam GPUs integradas.</li></ul></li> <li><strong>serial=5</strong> <ul><li>Redireciona a saída de dados para a porta serial, caso esteja <a href="#serial-setup-optional">planejando usá-la</a>.</li> <li>Recomendado para a saída de dados inicial do <em>kernel</em>, antes da configuração da PCI.</li></ul></li> <li><strong>acpi_layer=0x8</strong> <ul><li>Habilita a depuração das <code>ACPI_TABLES</code>. Veja o arquivo <a href="https://github.com/acpica/acpica/blob/master/source/include/acoutput.h" target="_blank" rel="noopener noreferrer">acoutput.h<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês) para obter mais informações.</li> <li>Alternativamente, <code>0xFFFFFFFF</code> ativa todas as camadas.</li></ul></li> <li><strong>acpi_level=0x2</strong> <ul><li>Configura a depuração de <code>ACPI_LV_DEBUG_OBJECT</code>. Veja o arquivo <a href="https://github.com/acpica/acpica/blob/master/source/include/acoutput.h" target="_blank" rel="noopener noreferrer">acoutput.h<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês) para obter mais informações.</li> <li>Alternativamente, <code>0xFFFF5F</code> significa <code>ACPI_ALL_COMPONENTS</code>.</li></ul></li></ul> <h2 id="configurando-a-porta-serial-opcional"><a href="#configurando-a-porta-serial-opcional" class="header-anchor">#</a> Configurando a Porta Serial (Opcional)</h2> <ul><li><a href="#configurando-o-hardware">Configurando o Hardware</a></li> <li><a href="#configurando-o-coolterm">Configurando o CoolTerm</a></li></ul> <p>Embora seja opcional, a saída serial pode ser super útil para coletar todas as informações importantes que derramam do computador. É também a única maneira apropriada de obter logs de <em>kernel panics</em> super precoces, como as coisas que vem logo depois de <code>[EB|#LOG:EXITBS:START]</code>.</p> <p>Para configurá-la, será necessário ter:</p> <ul><li>Uma porta/conector serial no computador de testes.</li> <li>Um cabo serial-para-serial ou serial-para-USB.</li> <li>Um segundo computador para receber os logs da saída de dados serial (com uma porta serial ou USB).</li> <li>Um software para monitorar a saída de dados serial:
<ul><li>Neste guia, será utilizado o <a href="https://freeware.the-meiers.org" target="_blank" rel="noopener noreferrer">CoolTerm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, já que ele possui versões para macOS, Linux, Windows e até mesmo para o Raspberry Pi.</li> <li>O <code>screen</code> e outros métodos também são suportados.</li></ul></li></ul> <h3 id="configurando-o-hardware"><a href="#configurando-o-hardware" class="header-anchor">#</a> Configurando o Hardware</h3> <p>Neste exemplo, será utilizada uma placa Asus X299-E Strix, que possui um conector serial. Para verificar se sua placa possui um desses, leia o manual e procure pela porta serial/COM:</p> <p><img src="/OpenCore-Install-Guide/assets/img/serial-header.f60954b5.png" alt="Porta Serial"></p> <p>Como evidenciado pela imagem, há uma porta COM na parte de baixo da placa-mãe. Ela até mesmo fornece um diagrama para conectar pinos seriais manualmente, caso não esteja utilizando um adaptador de Conector Serial de 9/10 Pinos para DB9.</p> <p>Alternativamente, alguns computadores possuem portas seriais DB9 diretamente nas conexões traseiras, como este Dell Optiplex 780 SFF (observe que VGA e Serial <strong>não</strong> são o mesmo conector!):</p> <img width="508" alt="" src="/OpenCore-Install-Guide/assets/img/serial-connector.6e514758.jpg"> <p>No X299 do autor original, foi utilizado um simples adaptador de <a href="https://www.amazon.ca/gp/product/B001Y1F0HW/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&amp;psc=1" target="_blank" rel="noopener noreferrer">conector serial para DB9<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, e então um <a href="https://www.amazon.ca/gp/product/B075YGKFC1/ref=ppx_yo_dt_b_asin_title_o00_s01?ie=UTF8&amp;psc=1" target="_blank" rel="noopener noreferrer">adaptador de DB9 para USB RS 232<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, que é, por fim, conectado a um notebook:</p> <table><thead><tr><th style="text-align:left;">Conector serial para DB9</th> <th style="text-align:left;">Adaptador de DB9 para USB RS 232</th></tr></thead> <tbody><tr><td style="text-align:left;"><img src="/OpenCore-Install-Guide/assets/img/817DNdBZDkL._AC_SL1500_.af22055f.jpg" alt=""></td> <td style="text-align:left;"><img src="/OpenCore-Install-Guide/assets/img/61yHczOwpTL._AC_SL1001_.f84613fd.jpg" alt=""></td></tr></tbody></table> <p>O manual do OpenCore geralmente recomenda dispositivos UART baseados em CP21202:</p> <blockquote><p>Para obter o log durante a inicialização, é possível usar a depuração por meio da porta serial. A depuração por meio da porta serial é ativada no Target, isto é, 0xB para em tela com serial. O OpenCore utiliza uma taxa de 115200 bauds, 8 bits de dados, sem paridade e 1 bit de parada. Para o macOS, a melhor escolha são dispositivos UART baseados em CP2102. Conecte o TX da placa-mãe ao RX UART USB e o GND da placa mãe no GND do UART USB. Utilize um utilitário de tela para obter a saída, ou baixa um software com interface gráfica como o CoolTerm.
Observação: Em muitas placas-mãe (e possivelmente em adabtadores UART USB) os nomes dos pinos podem estar incorretos. É bastante comum encontrar o GND trocado com o RX, fazendo com que seja necessário conectar o &quot;TX&quot; da placa-mãe no GND do UART USB e o “GND” da placa-mae ao RX do UART USB.</p></blockquote> <p><strong>Lembrete importante</strong>: não se esqueca de ativar a porta serial na BIOS também. Muitas placas-mãe desativam a opção por padrão.</p> <h3 id="configurando-o-coolterm"><a href="#configurando-o-coolterm" class="header-anchor">#</a> Configurando o CoolTerm</h3> <p>Agora, abra o <a href="https://freeware.the-meiers.org" target="_blank" rel="noopener noreferrer">CoolTerm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> e configure algumas opções. Ao iniciar o CoolTerm, será exibida uma janela simples. Aqui, selecone a opção Options:</p> <p><img src="/OpenCore-Install-Guide/assets/img/coolterm-first-start.9ab65697.png" alt=""> <img src="/OpenCore-Install-Guide/assets/img/coolterm-settings.2c1445fe.png" alt=""></p> <p>Aqui, são exibidas algumas opções, mas as principais com as quais se preocupar são:</p> <ul><li>Port: tenha certeza de usar o mesmo do controlador serial do seu computador.</li> <li>Baudrate = 115200</li> <li>Data Bits = 8</li> <li>Parity = none</li> <li>Stop Bit = 1</li></ul> <p>Então, salve as configurações e selecione a opção Connect. Será exibido um log em tempo real da saída serial:</p> <p><img src="/OpenCore-Install-Guide/assets/img/coolterm-connect.fb665577.png" alt="CoolTerm Connect"></p> <p>Para gravar, simplesmente acesse a opção <code>Connections -&gt; Capture to Text/Binary File -&gt; Start...(Cmd+R)</code>:</p> <p><img src="/OpenCore-Install-Guide/assets/img/coolterm-record.f7e0709b.png" alt=""></p> <h2 id="kits-de-depuracao-do-kernel-opcional"><a href="#kits-de-depuracao-do-kernel-opcional" class="header-anchor">#</a> Kits de Depuração do Kernel (Opcional)</h2> <ul><li><a href="#kdk-em-um-so-instalado">KDK em um SO Instalado</a></li> <li><a href="#uninstalling-the-kdk">Uninstalling the KDK</a></li></ul> <p>Kits de Depuração de Kernel (KDK) são uma forma incrível de obter ainda mais informações de logs do <em>kernel</em> e das principais <em>kexts</em>. Especificamente, KDKs são versões de depuração do Core Foundation do macOS fornecidas pela própria Apple. Incluem tanto logs adicionais quanto ASSERTs, permitindo vizualizar mais diretamente os problemas da sua configuração. No entanto, observe que depuração com ponte ou a utilização do <code>lldb</code> não serão abordados neste guia.</p> <p><span style="color:red;"> CUIDADO: </span> Instalar KDKs em computadores de trabalho pode causar problemas com as atualizações do sistema operacional e brickar instalações. Por favor, realize a depuração em instalações do macOS dedicadas para tal, de forma a evitar perda de dados.</p> <p>Para começar, será necessário ter, no mínimo, uma <a href="https://developer.apple.com/support/compare-memberships/" target="_blank" rel="noopener noreferrer">conta de desenvolvedor gratuita<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês) da Apple. Uma vez criada pelo menos a conta gratuita, será possível acessar os KDKs a partir da página <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener noreferrer">More Downloads<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês):</p> <ul><li>Observação: contas gratuitas estarão limitadas a versões de lançamento dos KDKs. KDKs beta só são fornecidos para <a href="https://developer.apple.com/support/compare-memberships/" target="_blank" rel="noopener noreferrer">contas de desenvolvedor pagas<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês).</li> <li>Observação 2: A Apple disponibiliza KDKs antigas até o Mac OS X 10.5 Leopard, então não se preocupe se o seu sistema operacional não possui mais suporte.</li></ul> <p><img src="/OpenCore-Install-Guide/assets/img/more-downloads.edd8905d.png" alt=""></p> <p>Para determinar qual <em>build</em> de KDK será necessária para versões beta do macOS, execute o seguinte comando no Terminal:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>sw_vers <span class="token operator">|</span> <span class="token function">grep</span> BuildVersion
</code></pre></div><p>Neste guia, será baixado o Kit de Depuração do Kernel v11.3 build 20E5186d. Uma vez baixado, monte a imagem de disco e encontre o instalador do KDK. Por padrão, o KDK será instalado somente para realizar a depuração com dois computadores (Performing Two-Machine Debugging) e fornecerá zero benefício extra para depuração de <em>kernel</em> no computador hospedeiro (isto é, no computador no qual foi instalado).</p> <h3 id="kdk-em-um-so-instalado"><a href="#kdk-em-um-so-instalado" class="header-anchor">#</a> KDK em um SO Instalado</h3> <p>Para habilitar a depuração no computador hospedeiro, será necessário realizar os seguintes passos:</p> <ol><li>Executar o pacote de instalação do KDK (<code>.pkg</code>);</li> <li>Desabilitar o SIP (OS X 10.11 El Capitan e superior);</li> <li>Montar a partição de <em>root</em> com permissões de escrita (macOS 10.15 Catalina e superior);</li> <li>Instalar as versões de depuração do <em>kernel</em> e das <em>kexts</em>;</li> <li>Atualizar os argumentos de inicialização (<em>boot-args</em>);</li> <li>Reiniciar e verificar se tudo deu certo.</li></ol> <h4 id="_1-executar-o-pacote-de-instalacao-do-kdk-pkg"><a href="#_1-executar-o-pacote-de-instalacao-do-kdk-pkg" class="header-anchor">#</a> 1. Executar o pacote de instalação do KDK (<code>.pkg</code>)</h4> <p>Simplesmente execute o arquivo <code>.pkg</code> normalmente:</p> <p><img src="/OpenCore-Install-Guide/assets/img/kdk-install.015e9b14.png" alt=""></p> <p>Uma vez instalado, os componentes do KDK, como a versão de depuração do <em>kernel</em>, podem ser encontradas no diretório <code>/Library/Developer/KDKs</code>:</p> <p><img src="/OpenCore-Install-Guide/assets/img/kdk-installed.41bf377f.png" alt=""></p> <h4 id="_2-desabilitar-o-sip"><a href="#_2-desabilitar-o-sip" class="header-anchor">#</a> 2. Desabilitar o SIP</h4> <ul><li>Aplicável ao OS X 10.11 El Capitan e mais novo.</li></ul> <p>Para desabilitar o SIP, existem duas opções:</p> <ul><li><p>Desabilitar pelo ambiente de Recuperação.</p></li> <li><p><a href="/OpenCore-Install-Guide/troubleshooting/extended/post-issues.html#desativando-o-sip">Desabilitar pela config.plist</a>.</p></li></ul> <p>Geralmente, recomenda-se usar o ambiente de Recuperação para que seja possível reverter facilmente com uma redefinição de NVRAM. No entanto, alguns usuários talvez precisem que o SIP continue desabilitado mesmo após redefinições de NVRAM.</p> <p>Neste caso, simplesmente reinicie o ambiente de Recuperação do macOS, abra o Terminal e execute o seguinte:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>csrutil disable
csrutil authenticated-root disable <span class="token comment"># No macOS 11 Big Sur ou superior.</span>
</code></pre></div><p>Reinicie e o SIP deverá ter sido ajustado. É possível executar o comando <code>csrutil status</code> no Terminal para verificar se funcionou.</p> <ul><li><span style="color:red;">CUIDADO:</span> os usuários que dependem do recurso <a href="https://deomkds.github.io/OpenCore-Post-Install/universal/security/applesecureboot.html#apecid" target="_blank" rel="noopener noreferrer">ApECID do OpenCore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, tenha ciência de que o ApECID <strong>precisa</strong> estar desabilitado para usar o KDK.</li></ul> <h4 id="_3-montar-a-particao-root-com-permissoes-de-escrita"><a href="#_3-montar-a-particao-root-com-permissoes-de-escrita" class="header-anchor">#</a> 3. Montar a partição <em>root</em> com permissões de escrita</h4> <ul><li>Aplicável ao macOS 10.15 Catalina ou superior.</li></ul> <p>Montar o volume do sistema com permissões de escrita é fácil, no entanto o processo é um pouco longo.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># macOS 11 Big Sur ou superior.</span>
<span class="token comment"># Primeiramente, crie um ponto de montagem para a unidade.</span>
<span class="token function">mkdir</span> ~/livemount

<span class="token comment"># Então, encontre o volume do sistema.</span>
diskutil list

<span class="token comment"># A partir da lista abaixo, é possível ver que o volume do sistema é o disk5s5.</span>
/dev/disk5 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +255.7 GB   disk5
                                 Physical Store disk4s2
   <span class="token number">1</span>:                APFS Volume ⁨Big Sur HD - Data⁩       <span class="token number">122.5</span> GB   disk5s1
   <span class="token number">2</span>:                APFS Volume ⁨Preboot⁩                 <span class="token number">309.4</span> MB   disk5s2
   <span class="token number">3</span>:                APFS Volume ⁨Recovery⁩                <span class="token number">887.8</span> MB   disk5s3
   <span class="token number">4</span>:                APFS Volume ⁨VM⁩                      <span class="token number">1.1</span> MB     disk5s4
   <span class="token number">5</span>:                APFS Volume ⁨Big Sur HD⁩              <span class="token number">16.2</span> GB    disk5s5
   <span class="token number">6</span>:              APFS Snapshot ⁨com.apple.os.update-<span class="token punctuation">..</span>.⁩ <span class="token number">16.2</span> GB    disk5s5s

<span class="token comment"># Monte a unidade (ex.: disk5s5)</span>
<span class="token function">sudo</span> <span class="token function">mount</span> -o nobrowse -t apfs  /dev/disk5s5 ~/livemount

<span class="token comment"># Agora é possível fazer alterações no volume do sistema livremente.</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Somente macOS 10.15 Catalina.</span>
<span class="token function">sudo</span> <span class="token function">mount</span> -uw /
</code></pre></div><h4 id="_4-instalar-as-versoes-de-depuracao-do-kernel-e-das-kexts"><a href="#_4-instalar-as-versoes-de-depuracao-do-kernel-e-das-kexts" class="header-anchor">#</a> 4. Instalar as versões de depuração do <em>kernel</em> e das <em>kexts</em></h4> <p>Agora é preciso instalar o KDK no sistema:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Instala o KDK no volume do sistema.</span>
<span class="token comment"># Certifique-se de substituir o &lt;KDK Version&gt;.</span>
<span class="token comment"># Para macOS 10.15 Catalina ou mais antigo, substitua &quot;livemount&quot; por /Volumes/&lt;Volume Alvo&gt;.</span>
<span class="token function">sudo</span> ditto /Library/Developer/KDKs/<span class="token operator">&lt;</span>KDK Version<span class="token operator">&gt;</span>/System ~/livemount/System

<span class="token comment"># Reconstrua o cache do kernel (macOS 11 Big Sur ou mais novo).</span>
<span class="token function">sudo</span> kmutil <span class="token function">install</span> --volume-root ~/livemount --update-all

<span class="token comment"># Reconstrua o cache do kernel (macOS 10.15 Catalina ou mais antigo).</span>
<span class="token function">sudo</span> kextcache -invalidate /Volumes/<span class="token operator">&lt;</span>Target Volume<span class="token operator">&gt;</span>

<span class="token comment"># Finalmente, uma vez terminado de alterar o volume do sistema,</span>
<span class="token comment"># será necessário criar uma nova *snapshot* (macOS 11 Big Sur ou mais novo).</span>
<span class="token function">sudo</span> bless --folder ~/livemount/System/Library/CoreServices --bootefi --create-snapshot
</code></pre></div><h4 id="_5-atualizar-os-argumentos-de-inicializacao-boot-args"><a href="#_5-atualizar-os-argumentos-de-inicializacao-boot-args" class="header-anchor">#</a> 5. Atualizar os argumentos de inicialização (<em>boot-args</em>)</h4> <p>Agora que o KDK foi instalado e configurado, será necessário dizer ao <code>boot.efi</code> qual <em>kernel</em> usar. Escolha entre as duas opções a seguir:</p> <ul><li><code>kcsuffix=debug</code> (removido no macOS 11 Big Sur).</li> <li><code>kcsuffix=development</code></li> <li><code>kcsuffix=kasan</code></li></ul> <p>O argumento <code>development</code> configurará o novo <em>kernel</em> de depuração no macOS 11 Big Sur. O argumento <code>kasan</code> usará uma versão do <em>kernel</em> com log muito mais intenso e que incorpora o <a href="https://github.com/google/sanitizers/wiki/AddressSanitizer" target="_blank" rel="noopener noreferrer">AddressSanitizer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (em inglês).</p> <p>Uma vez decidido qual <em>kernel</em> é o ideal para o seu uso, adicione o argumento <code>kcsuffix</code> à <code>config.plis</code>, na opção <code>boot-args</code>.</p> <h4 id="_6-reiniciar-e-verificar-se-tudo-deu-certo"><a href="#_6-reiniciar-e-verificar-se-tudo-deu-certo" class="header-anchor">#</a> 6. Reiniciar e verificar se tudo deu certo</h4> <p>Presumindo que tudo tenha sido feito da maneira correta, agora é a hora de reiniciar o computador e verificar se o sistema operacional iniciará com o <em>kernel</em> correto.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>sysctl kern.osbuildconfig
 kern.osbuildconfig: kasan
</code></pre></div><p>Como é possível ver, o sistema iniciou com o <em>kernel</em> KASAN.</p> <h3 id="desinstalando-o-kdk"><a href="#desinstalando-o-kdk" class="header-anchor">#</a> Desinstalando o KDK</h3> <p>Desinstalar o KDK é bastante simples, no entanto, pode ser um pouco destrutivo caso não se tome cuidado.</p> <ol><li>Montar a partição <em>root</em> com permissões de escrita (macOS 10.15 Catalina ou superior);</li> <li>Remover as versões de depuração do <em>kernel</em> e das <em>kexts</em>;</li> <li>Habilitar novamente o SIP;</li> <li>Limpar os argumentos de inicialização (<em>boot-args</em>)</li> <li>Reiniciar e verificar se tudo deu certo</li></ol> <p>Passos:</p> <h4 id="_1-montar-a-particao-root-com-permissoes-de-escrita-macos-10-15-catalina-ou-superior"><a href="#_1-montar-a-particao-root-com-permissoes-de-escrita-macos-10-15-catalina-ou-superior" class="header-anchor">#</a> 1. Montar a partição <em>root</em> com permissões de escrita (macOS 10.15 Catalina ou superior)</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># macOS 11 Big Sur ou superior.</span>
<span class="token comment"># Primeiramente, crie um ponto de montagem para a unidade.</span>
<span class="token comment"># Pule se o ponto de montagem já existir.</span>
<span class="token function">mkdir</span> ~/livemount

<span class="token comment"># Então, encontre o volume do sistema.</span>
diskutil list

<span class="token comment"># A partir da lista abaixo, é possível ver que o volume do sistema é o disk5s5.</span>
/dev/disk5 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +255.7 GB   disk5
                                 Physical Store disk4s2
   <span class="token number">1</span>:                APFS Volume ⁨Big Sur HD - Data⁩       <span class="token number">122.5</span> GB   disk5s1
   <span class="token number">2</span>:                APFS Volume ⁨Preboot⁩                 <span class="token number">309.4</span> MB   disk5s2
   <span class="token number">3</span>:                APFS Volume ⁨Recovery⁩                <span class="token number">887.8</span> MB   disk5s3
   <span class="token number">4</span>:                APFS Volume ⁨VM⁩                      <span class="token number">1.1</span> MB     disk5s4
   <span class="token number">5</span>:                APFS Volume ⁨Big Sur HD⁩              <span class="token number">16.2</span> GB    disk5s5
   <span class="token number">6</span>:              APFS Snapshot ⁨com.apple.os.update-<span class="token punctuation">..</span>.⁩ <span class="token number">16.2</span> GB    disk5s5s

<span class="token comment"># Monte a unidade (ex.: disk5s5)</span>
<span class="token function">sudo</span> <span class="token function">mount</span> -o nobrowse -t apfs  /dev/disk5s5 ~/livemount
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Somente macOS 10.15 Catalina.</span>
<span class="token function">sudo</span> <span class="token function">mount</span> -uw /
</code></pre></div><h4 id="_2-remover-as-versoes-de-depuracao-do-kernel-e-das-kexts"><a href="#_2-remover-as-versoes-de-depuracao-do-kernel-e-das-kexts" class="header-anchor">#</a> 2. Remover as versões de depuração do <em>kernel</em> e das <em>kexts</em></h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Reverter para uma *snapshot* antiga (macOS 11 Big Sur ou mais novo).</span>
<span class="token function">sudo</span> bless --mount ~/livemount --bootefi --last-sealed-snapshot
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Redefinir o cache do *kernel* (macOS 10.15 Catalina ou mais antigo)</span>
<span class="token function">sudo</span> <span class="token function">rm</span> /System/Library/Caches/com.apple.kext.caches/Startup/kernelcache.de*
<span class="token function">sudo</span> <span class="token function">rm</span> /System/Library/PrelinkedKernels/prelinkedkernel.de*
<span class="token function">sudo</span> kextcache -invalidate /
</code></pre></div><h4 id="_3-habilitar-novamente-o-sip"><a href="#_3-habilitar-novamente-o-sip" class="header-anchor">#</a> 3. Habilitar novamente o SIP</h4> <ul><li>Comandos a serem executados no ambiente de Recuperação (caso o SIP tenha sido desabilitado pelo ambiente de Recuperação):</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>csrutil <span class="token builtin class-name">enable</span>
csrutil authenticated-root <span class="token builtin class-name">enable</span> <span class="token comment"># macOS 11 Big Sur ou mais novo.</span>
</code></pre></div><ul><li>Alterações na <code>config.plist</code> (caso o SIP tenha sido desabilitado pela <code>config.plist</code>):
<ul><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/post-issues.html#disabling-sip">Habilitando pela config.plist</a>.</li></ul></li></ul> <h4 id="_4-limpar-os-argumentos-de-inicializacao-boot-args"><a href="#_4-limpar-os-argumentos-de-inicializacao-boot-args" class="header-anchor">#</a> 4. Limpar os argumentos de inicialização (<em>boot-args</em>)</h4> <p>Não se esqueça de remover o <code>kcsuffix=</code> dos seus argumentos de inicialização.</p> <h4 id="_5-reiniciar-e-verificar-se-tudo-deu-certo"><a href="#_5-reiniciar-e-verificar-se-tudo-deu-certo" class="header-anchor">#</a> 5. Reiniciar e verificar se tudo deu certo</h4> <p>Presumindo que tudo tenha sido feito da maneira correta, agora é a hora de reiniciar o computador e verificar se o sistema operacional iniciará com o <em>kernel</em> correto.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>sysctl kern.osbuildconfig
 kern.osbuildconfig: release
</code></pre></div><p>Como é possível ver, o sistema iniciou com o <em>kernel</em> padrão de lançamento.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/deomkds/OpenCore-Install-Guide/edit/master/troubleshooting/kernel-debugging.md" target="_blank" rel="noopener noreferrer">Ajude-nos a melhorar esta página!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/1/2021, 11:47:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/OpenCore-Install-Guide/troubleshooting/boot.html" class="prev">
        Entendendo o Processo de Inicialização do macOS
      </a></span> <span class="next"><a href="https://deomkds.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer">
        Pós-Instalação

        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Install-Guide/assets/js/app.fc51349e.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/2.b61f8b84.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/8.55f78431.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/58.d518a4a2.js" defer></script>
  </body>
</html>
